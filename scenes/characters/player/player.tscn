[gd_scene load_steps=40 format=3 uid="uid://x0hp764aoxfp"]

[ext_resource type="Texture2D" uid="uid://cn53uads4bci0" path="res://resources/textures/adventurer_spritesheets/character_001.png" id="1_1m8w0"]
[ext_resource type="Script" path="res://scenes/components/player_input_component/player_input_component.gd" id="1_bfyut"]
[ext_resource type="Script" path="res://scenes/characters/player/player.gd" id="1_ym86x"]
[ext_resource type="Script" path="res://scenes/components/movement_component/movement_component.gd" id="2_6reun"]
[ext_resource type="Script" path="res://scenes/components/interactor/interactor.gd" id="2_25yar"]
[ext_resource type="Script" path="res://scenes/components/hitbox/hitbox.gd" id="2_k1gv2"]
[ext_resource type="Script" path="res://systems/inventory_system/scripts/inventory_manager.gd" id="2_pdmjj"]
[ext_resource type="PackedScene" uid="uid://cxtu01o27robl" path="res://systems/save_and_load_system/scenes/save_load_component.tscn" id="3_43mp2"]
[ext_resource type="Script" path="res://scenes/components/animation_component/animation_component.gd" id="3_if003"]
[ext_resource type="Script" path="res://systems/inventory_system/scripts/RInventoryItem.gd" id="4_ys0pp"]
[ext_resource type="PackedScene" uid="uid://bkty4ssqdtcvx" path="res://systems/audio_system/scenes/single_sound_component/single_sound_component.tscn" id="5_7mu1s"]
[ext_resource type="Script" path="res://systems/save_and_load_system/scripts/RInventorySaveData.gd" id="5_j57la"]
[ext_resource type="PackedScene" uid="uid://b70c2uctc5fc0" path="res://systems/audio_system/scenes/movement_sound_component/movement_sound_component.tscn" id="6_673vk"]
[ext_resource type="AudioStream" uid="uid://dtrm12scpa0bh" path="res://audio/actions/pickup/pickup_1.wav" id="6_uu587"]

[sub_resource type="Resource" id="Resource_kpg3b"]
script = ExtResource("5_j57la")
uuid = ""
inventory_items = Array[ExtResource("4_ys0pp")]([])

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_7jkcg"]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_vjiwc"]
radius = 6.0
height = 20.0

[sub_resource type="CircleShape2D" id="CircleShape2D_8xl6h"]
radius = 4.0

[sub_resource type="AtlasTexture" id="AtlasTexture_nhci1"]
atlas = ExtResource("1_1m8w0")
region = Rect2(24, 0, 24, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_0oud5"]
atlas = ExtResource("1_1m8w0")
region = Rect2(24, 24, 24, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_3ivqg"]
atlas = ExtResource("1_1m8w0")
region = Rect2(24, 48, 24, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_r8q5w"]
atlas = ExtResource("1_1m8w0")
region = Rect2(24, 72, 24, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_xe4u3"]
atlas = ExtResource("1_1m8w0")
region = Rect2(0, 0, 24, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_ewkei"]
atlas = ExtResource("1_1m8w0")
region = Rect2(24, 0, 24, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_vg4f1"]
atlas = ExtResource("1_1m8w0")
region = Rect2(48, 0, 24, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_5e4qe"]
atlas = ExtResource("1_1m8w0")
region = Rect2(72, 0, 24, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_pthym"]
atlas = ExtResource("1_1m8w0")
region = Rect2(0, 24, 24, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_88xih"]
atlas = ExtResource("1_1m8w0")
region = Rect2(24, 24, 24, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_vvhgc"]
atlas = ExtResource("1_1m8w0")
region = Rect2(48, 24, 24, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_vqlsg"]
atlas = ExtResource("1_1m8w0")
region = Rect2(72, 24, 24, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_t5wwp"]
atlas = ExtResource("1_1m8w0")
region = Rect2(0, 48, 24, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_lgjc1"]
atlas = ExtResource("1_1m8w0")
region = Rect2(24, 48, 24, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_ny1ks"]
atlas = ExtResource("1_1m8w0")
region = Rect2(48, 48, 24, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_80534"]
atlas = ExtResource("1_1m8w0")
region = Rect2(72, 48, 24, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_t41i4"]
atlas = ExtResource("1_1m8w0")
region = Rect2(0, 72, 24, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_rlmek"]
atlas = ExtResource("1_1m8w0")
region = Rect2(24, 72, 24, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_tlg8i"]
atlas = ExtResource("1_1m8w0")
region = Rect2(48, 72, 24, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_yjagf"]
atlas = ExtResource("1_1m8w0")
region = Rect2(72, 72, 24, 24)

[sub_resource type="SpriteFrames" id="SpriteFrames_y4dbi"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_nhci1")
}],
"loop": true,
"name": &"idle_down",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_0oud5")
}],
"loop": true,
"name": &"idle_left",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_3ivqg")
}],
"loop": true,
"name": &"idle_right",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_r8q5w")
}],
"loop": true,
"name": &"idle_up",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_xe4u3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ewkei")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vg4f1")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5e4qe")
}],
"loop": true,
"name": &"move_down",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_pthym")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_88xih")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vvhgc")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vqlsg")
}],
"loop": true,
"name": &"move_left",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_t5wwp")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_lgjc1")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ny1ks")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_80534")
}],
"loop": true,
"name": &"move_right",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_t41i4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rlmek")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_tlg8i")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_yjagf")
}],
"loop": true,
"name": &"move_up",
"speed": 5.0
}]

[node name="Player" type="CharacterBody2D" node_paths=PackedStringArray("player_input_component", "movement_component", "animation_component", "movement_sound") groups=["player"]]
z_index = 2
texture_filter = 1
motion_mode = 1
script = ExtResource("1_ym86x")
player_input_component = NodePath("PlayerInputComponent")
movement_component = NodePath("MovementComponent")
animation_component = NodePath("AnimationComponent")
movement_sound = NodePath("MovementSoundComponent")

[node name="InventoryManager" type="Node" parent="." node_paths=PackedStringArray("save_load_component") groups=["player_inventory"]]
script = ExtResource("2_pdmjj")
save_load_component = NodePath("SaveLoadComponent")

[node name="SaveLoadComponent" parent="InventoryManager" instance=ExtResource("3_43mp2")]
save_filename = "player_inventory"
save_data_type = SubResource("Resource_kpg3b")

[node name="Interactor" type="Area2D" parent="."]
collision_layer = 64
collision_mask = 128
script = ExtResource("2_25yar")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Interactor"]
position = Vector2(0, -7)
shape = SubResource("CapsuleShape2D_7jkcg")
debug_color = Color(0.700001, 0.390826, 0.771683, 0.42)

[node name="Hitbox" type="Area2D" parent="."]
collision_layer = 2
collision_mask = 0
script = ExtResource("2_k1gv2")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Hitbox"]
position = Vector2(0, -7)
shape = SubResource("CapsuleShape2D_vjiwc")
debug_color = Color(0.547062, 0.424058, 0.952753, 0.42)

[node name="MovementSoundComponent" parent="." instance=ExtResource("6_673vk")]

[node name="PickupSound" parent="." instance=ExtResource("5_7mu1s")]
bus = &"sfx"
sound = ExtResource("6_uu587")
pitch_variance_range = Vector2(0.75, 1.25)

[node name="MovementCollider" type="CollisionShape2D" parent="."]
position = Vector2(0, -4)
shape = SubResource("CircleShape2D_8xl6h")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
texture_filter = 1
position = Vector2(0, -12)
sprite_frames = SubResource("SpriteFrames_y4dbi")
animation = &"idle_down"
autoplay = "idle_down"

[node name="PlayerInputComponent" type="Node" parent="."]
script = ExtResource("1_bfyut")

[node name="MovementComponent" type="Node" parent="."]
script = ExtResource("2_6reun")
stop_threshold_sec = 0.1

[node name="AnimationComponent" type="Node" parent="."]
script = ExtResource("3_if003")

[connection signal="moveable_moved" from="MovementComponent" to="." method="_on_movement_component_moveable_moved"]
[connection signal="animation_state_changed" from="AnimationComponent" to="." method="_on_animation_component_animation_state_changed"]
